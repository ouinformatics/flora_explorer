<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Floras Explorer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The Floras of North America project">
<meta name="author" content="OU CyberCommons">

<LINK REL=StyleSheet HREF="jqui/development-bundle/themes/base/jquery.ui.all.css" TYPE="text/css" TITLE="Bootstrap" MEDIA="screen, print">
<LINK REL=StyleSheet HREF="bootstrap/css/bootstrap-responsive.min.css" TYPE="text/css" TITLE="Bootstrap" MEDIA="screen, print">
<LINK REL=StyleSheet HREF="bootstrap/css/bootstrap.min.css" TYPE="text/css" TITLE="Bootstrap" MEDIA="screen, print">
<LINK REL=StyleSheet HREF="http://static.cybercommons.org/css/bootstrap/css/cybercommons.css" TYPE="text/css" TITLE="Bootstrap-CyberCommons" MEDIA="screen, print">

<script type="text/javascript" src="http://static.cybercommons.org/js/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="http://static.cybercommons.org/js/jquery-ui-1.8.10.custom.min.js"></script>
<script type="text/javascript" src="http://static.cybercommons.org/css/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="OpenLayers-2.11/OpenLayers.js"></script>
<script type="text/javascript" src="http://static.cybercommons.org/js/flot/jquery.flot.min.js"></script>
<script type="text/javascript" src="http://static.cybercommons.org/js/flot/jquery.flot.selection.min.js"></script>

<style type="text/css" media="screen, print, projection">
body {
	padding-top: 50px;
}

#map {
	height: 700px;
}

</style>

<script type="text/javascript">
//console.log();

var map, options, floraLayer, drawControls;
var totsites=[], selsites=[];
var states = {"AL":"Alabama","AK":"Alaska","AZ":"Arizona","AR":"Arkansas","CA":"California","CO":"Colorado","CT":"Connecticut","DE":"Delaware","DC":"District/Columbia","FL":"Florida","GA":"Georgia","HI":"Hawaii","ID":"Idaho","IL":"Illinois","IN":"Indiana","IA":"Iowa","KS":"Kansas","KY":"Kentucky","LA":"Louisiana","ME":"Maine","MD":"Maryland","MA":"Massachusetts","MI":"Michigan","MN":"Minnesota","MS":"Mississippi","MO":"Missouri","MT":"Montana","NE":"Nebraska","NV":"Nevada","NH":"New Hampshire","NJ":"New Jersey","NM":"New Mexico","NY":"New York","NC":"North Carolina","ND":"North Dakota","OH":"Ohio","OK":"Oklahoma","OR":"Oregon","PA":"Pennsylvania","RI":"Rhode Island","SC":"South Carolina","SD":"South Dakota","TN":"Tennessee","TX":"Texas","UT":"Utah","VT":"Vermont","VA":"Virginia","WA":"Washington","WV":"West Virginia","WI":"Wisconsin","WY":"Wyoming","ALB":"Alberta","BCL":"British Columbia","CAN":"Canada","MAN":"Manitoba","NB":"New Brunswick","NFL":"Newfoundland","NS":"Nova Scotia","NWT":"Northwest Territories","ONT":"Ontario","PEI":"Prince Edward Island","QUE":"Quebec","SAS":"Saskatchewan","SPM":"Saint Pierre et Miquelon","YUK":"Yukon"};
var selnum=0, saveselsites=[];
var floradata=[];
var selplot_data=[],plot_data=[],plotDesc=[], plotselDesc=[];
var myStyles, stylesColor={"1":"#BD2126","2":"#C79428","3":"#F2D65C","4":"#F5914D","5":"#69C4AD","6":"#264A6E","7":"#A1C7FF","8":"#B575B5","9":"#007A63","10":"#705421","11":"#4D1275","12":"#8CC4D6"};

//on window load
$(window).load(function() {

	options = {
		spericalMercator : true,
		projection : new OpenLayers.Projection("EPSG:900913"),
		maxResolution : 156543.0339,
		maxZoomLevels : 18,
		displayProjection : new OpenLayers.Projection("EPSG:4326"),
		units : "m",
		maxExtent : new OpenLayers.Bounds([ -19803292.13,-5205054.49, 547896.95, 15497748.74 ])
	}
	map = new OpenLayers.Map('map', options);
	
	ccbasemap = new OpenLayers.Layer.XYZ("ccbasemap", "http://129.15.41.144:8080/ccbasemap/${z}/${x}/${y}.png", { 'sphericalMercator' : true });
	map.addLayer( ccbasemap );
	
	center = new OpenLayers.LonLat(-100, 45);
//	center = new OpenLayers.LonLat(-97.4, 35.2);	//center Oklahoma
	center = center.transform(options.displayProjection,options.projection);
	map.setCenter(center, 4);

	myStyles = new OpenLayers.StyleMap({
        "default": new OpenLayers.Style({ fillOpacity: 1, pointRadius: 3.5, strokeWidth: 1, fillColor: "#8CBA52", graphicZIndex: 1 }),
        "select": new OpenLayers.Style({ fillOpacity: 1, fillColor: "#F6358A", graphicZIndex: 2 })
    });
    floraLayer = new OpenLayers.Layer.Vector("Flora Sites", {styleMap: myStyles});

	$("#msg").show() .html("Loading . . .");
	var st=[];
	$.getJSON('http://test.cybercommons.org/mongo/db_find/flora/data/{"fields":{"REF_NO":1,"Sitename":1,"State":1,"Year":1,"midlat":1,"midlon":1,"NO_Species":1,"Area_hectares":1}}?callback=?', function(fdata) {
		$.each(fdata, function(key,val) {
			floradata.push(val);
			
			var point = new OpenLayers.Geometry.Point(val.midlon, val.midlat);
			point = point.transform(options.displayProjection,options.projection);
			var pointFeature = new OpenLayers.Feature.Vector(point, null, null);
			pointFeature.attributes = {"REF_NO": val.REF_NO, "Sitename": val.Sitename};
			floraLayer.addFeatures(pointFeature);
			totsites.push(val.REF_NO);
			
			$.each(val.State, function(skey,sval) {
				if (sval && $.inArray(sval, st)===-1) {
					st.push(sval);
				}
			});
			
		}); //end each
				
		$.each(st.sort(), function(key, val) {
			$('#idstate').append('<option value='+val+'>'+states[val]+'</option>');
		});
		
		$("#msg").html("Total Sites: <b>"+totsites.length);

	}); //end getJSON

	map.addLayer( floraLayer );

	map.addControl( new OpenLayers.Control.MousePosition({emptyString:"Floras Explorer"} ) );
	map.addControl( new OpenLayers.Control.LayerSwitcher() );

	drawControls = {select: new OpenLayers.Control.SelectFeature( floraLayer, { box: true, multipleKey: "shiftKey", toggleKey: "ctrlKey" } ) };
	map.addControl(drawControls.select);
	document.getElementById("box").checked=true;
	drawControls.select.activate();
	
	floraLayer.events.on({
		featureselected: function(event) {
			if(event.feature) {
				feature = event.feature;
				selsites.push(feature.attributes.REF_NO);
				$('#selinfo').modal({ show:true, backdrop:false }) .draggable({ containment: "parent" });
				$( "#sites tbody" ).append( "<tr>" + 
						"<td>" + feature.attributes.REF_NO + "</td>" + 
						"<td><a href='http://fire.rccc.ou.edu/flora/"+parseInt(feature.attributes.REF_NO)+"' target='_blank'>" + feature.attributes.Sitename + "</a></td>" + "</tr>"
				); 
			}
			$("#SitesSelected").html("<h3>Sites Selected:  "+selsites.length+"</h3>");
        }, 
        
		featureunselected: function() {
			selsites=[];
			$("#SitesSelected").html("<h3>Sites Selected:  "+selsites.length+"</h3>");
			$("#sites tbody").empty();
        }
    });		
   
}); //end window Load


$(document).ready( function() {

	//modal windows
	$('#about').modal({ show : false }) .draggable({ containment: "parent" });
	$('#contact').modal({ show : false }) .draggable({ containment: "parent" });
	$('#help').modal({ show : false, backdrop:false }) .draggable({ containment: "parent" });

	$("#map").resizable();

	$( "#advance" ).dialog({ autoOpen: false, minWidth: 800 });
	$("#advWin").click(function() {
		$(advance).dialog('open');
	});

	$("#xclosesites").click(function() {
		clearSel();
	});

	$("#closesites").click(function() {
		clearSel();
	});
  
	$("#savesites").click(function() {
		selnum=selnum+1
		saveselsites.push(selsites);
		
		if (selnum==2) {
			$("#selAccordion").prepend("<div id='msg' class='alert alert-info' style='text-align:center;'><a href='#' onclick='showall();'>Show All</a> &bull; <a href='#' onclick='plotall();'>Plot All</a><div id='showPlotAll'></div></div>");
		}

		$("#selAccordion").append(function() {
			return appendSel();
		});
		
		clearSel();
	});

	$("#searchState").click(function() {
    	var selStates = $("#idstate").val() || [];   	
    	var states=[];
    	if (selStates != "") {
	    	$.each(selStates, function(key, value) {
	    		states.push('"'+value+'"');
	    	});
	    	searchState (states);
    	}
	});

	$("#searchText").click(function() {
		if ( $("#txtsrch").val() ) {
			searchText($("#txtsrch").val());
		}
	});

}); //end document ready

//activate/deactivate draw box
function selbox() {
    if (document.getElementById("box").checked) {
    	drawControls.select.activate();
    }else{
    	drawControls.select.deactivate();
    }
}	

function appendSel() {
	var txt = '';
	txt += "<div class='accordion-group'>";
	txt += "    <a class='close' data-dismiss='alert'>x</a>";
	txt += "	<div class='accordion-heading'>";
	txt += "		<a class='accordion-toggle' data-toggle='collapse' data-parent='#selAccordion' href='#selnum"+selnum+"'><span class='badge badge-info'>"+selnum+"</span> selected "+selsites.length+" sites</a>";
	txt += "	</div>";
	txt += "	<div id='selnum"+selnum+"' class='accordion-body collapse'>";
	txt += "		<div class='accordion-inner' style='text-align:center;'>";
//	txt += "			<a href='#' rel='popover' data-content='Display selected points on the map' onclick='selshow("+selnum+");'><i class='icon-screenshot'></i></a>";
	txt += "			<a href='#' onclick='selshow("+selnum+");'>Show</a> &bull; ";
	txt += "			<a href='#' onclick='selplot("+selnum+");'>Plot</a> &bull; ";
	txt += "			<a href='#' onclick='selmodel("+selnum+");'>Model</a>";
	txt += "		</div>";
	txt += "        <div id='showPlot"+selnum+"'></div>";
	txt += "	</div>";
	txt += "</div>";

	return txt;
}	

function showall() {
	for (i=1;i<=saveselsites.length;i++) {
		myStyles.styles.select.defaultStyle.fillColor=stylesColor[i];
		$.each(floraLayer.features, function(key,val) {
			if (jQuery.inArray(val.attributes.REF_NO, saveselsites[i-1]) > -1) {
				drawControls.select.highlight(val);
			}
		});
	}
	myStyles.styles.select.defaultStyle.fillColor="#8CBA52"; //default
}

function selshow(selnum) {
	myStyles.styles.select.defaultStyle.fillColor=stylesColor[selnum];
	$.each(floraLayer.features, function(key,val) {
		if (jQuery.inArray(val.attributes.REF_NO, saveselsites[selnum-1]) > -1) {
			drawControls.select.highlight(val);
		}
	});
	myStyles.styles.select.defaultStyle.fillColor="#8CBA52"; //default
}

function showOnlySel(selnum) {
	//save for now --not in use 
	totsites=[];
	$("#msg").show() .html("Loading States . . .");
	floraLayer.destroyFeatures();
	
	$.getJSON('http://test.cybercommons.org/mongo/db_find/flora/data/{"spec":{"REF_NO":{"$in":['+saveselsites[selnum-1]+']}},"fields":{"REF_NO":1,"Sitename":1,"midlon":1,"midlat":1}}?callback=?', function(floradata) {
		var lon=[], lat=[];
		$.each(floradata, function(key,val) {
			var point = new OpenLayers.Geometry.Point(val.midlon, val.midlat);
			point = point.transform(options.displayProjection,options.projection);
			var pointFeature = new OpenLayers.Feature.Vector(point, null, null);
			pointFeature.attributes = {"REF_NO": val.REF_NO, "Sitename": val.Sitename};
			floraLayer.addFeatures(pointFeature);
			totsites.push(pointFeature.attributes);
		}); 
		
		$("#msg").html("Sites: <b>"+totsites.length);
	});
}

function plotall() {
	selplot_data=[],plot_data=[];
	
	$.each(floradata, function(i, val) {
		var lh=Math.log(parseFloat(val.Area_hectares)) / Math.log(10);
		var ls=Math.log(parseFloat(val.NO_Species)) / Math.log(10);
		if (jQuery.inArray(val.REF_NO, totsites) > -1) {
			plot_data.push([ lh, ls ]);
		}
		
		for (i=1;i<=saveselsites.length;i++) {
			if (jQuery.inArray(val.REF_NO, saveselsites[i-1]) > -1) {
				selplot_data.push([ lh, ls ]);
			}
		}
	});

	var plot_options={lines: { show: false }, points: { show: true }, grid:{hoverable: true}, selection: { mode: "xy" }};
	
	var d1 = {color: "#8CBA52", data: plot_data };			
	var d2 = {color: stylesColor[selnum], data: selplot_data };	
	console.log(d2);
	
	$("#showPlotAll").append("<div id='plotall' style='width:800px;height:450px;'></div>");
	$.plot($('#plotall'), [d1,d2], plot_options);
	$( "#showPlotAll" ).dialog({ width: 850, height: 520, title: "Plot All Data - total: "+plot_data.length+"  selected: "+selplot_data.length });
}


function selplot(selnum) {
	selplot_data=[],plot_data=[];
	$.each(floradata, function(i, val) {
		var lh=Math.log(parseFloat(val.Area_hectares)) / Math.log(10);
		var ls=Math.log(parseFloat(val.NO_Species)) / Math.log(10);
		if (jQuery.inArray(val.REF_NO, totsites) > -1) {
			plotDesc.push(val);
			plot_data.push([ lh, ls ]);
		}
		if (jQuery.inArray(val.REF_NO, saveselsites[selnum-1]) > -1) {
			plotselDesc.push(val);
			selplot_data.push([ lh, ls ]);
		}
	});

	var plot_options={lines: { show: false }, points: { show: true }, grid:{hoverable: true}, selection: { mode: "xy" }};
	
	var d1 = {color: "#8CBA52", data: plot_data };			
	var d2 = {color: stylesColor[selnum], data: selplot_data };	
	
	$("#showPlot"+selnum).append("<div id='plot"+selnum+"' style='width:800px;height:450px;'></div>");
	
	$.plot($('#plot'+selnum), [d1,d2], plot_options);
	
	$( "#showPlot"+selnum ).dialog({ width: 850, height: 520, title: "<span class='badge badge-info'>"+selnum+"</span> Plot Data - total: "+plot_data.length+"  selected: "+selplot_data.length });

}

function selmodel(selnum) {

}

function clearSel() {
	selsites=[];
	drawControls.select.unselectAll();
	$("#SitesSelected").html("<h3>Sites Selected:  "+selsites.length+"</h3>");
	$("#sites tbody").empty();
	$('#selinfo').modal('hide')
}	

//draw selected states
function searchState (states) {
	totsites=[];
	$("#msg").show() .html("Loading States . . .");
	floraLayer.destroyFeatures();
	
	$.getJSON('http://test.cybercommons.org/mongo/db_find/flora/data/{"spec":{"State":{"$in":['+states+']}},"fields":{"REF_NO":1,"Sitename":1,"midlon":1,"midlat":1}}?callback=?', function(floradata) {
		$.each(floradata, function(key,val) {
			var point = new OpenLayers.Geometry.Point(val.midlon, val.midlat);
			point = point.transform(options.displayProjection,options.projection);
			var pointFeature = new OpenLayers.Feature.Vector(point, null, null);
			pointFeature.attributes = {"REF_NO": val.REF_NO, "Sitename": val.Sitename};
			floraLayer.addFeatures(pointFeature);
			totsites.push(pointFeature.attributes);
		}); 
		
		$("#msg").html("Sites: <b>"+totsites.length);
	});
}

//draw selected text search
function searchText (txtsrch) {
	totsites=[];
	$("#msg").show() .html("Searching . . .");
	floraLayer.destroyFeatures();

	if (IsNumeric(txtsrch)) {
		//search REF_NO
		$.each(floradata, function(key,val) {
			if (txtsrch==val.REF_NO) {
				var point = new OpenLayers.Geometry.Point(val.midlon, val.midlat);
				point = point.transform(options.displayProjection,options.projection);
				var pointFeature = new OpenLayers.Feature.Vector(point, null, null);
				pointFeature.attributes = {"REF_NO": val.REF_NO, "Sitename": val.Sitename};
				floraLayer.addFeatures(pointFeature);
				totsites.push(pointFeature.attributes);
			}
		});
		$("#msg").html("Sites: <b>"+totsites.length);
	}else{
		//search text
		$.getJSON('http://test.cybercommons.org/mongo/db_find/flora/data/{"spec":{"Sitename":{"$regex":"'+txtsrch+'","$options":"i"}},"fields":{"REF_NO":1,"Sitename":1,"midlon":1,"midlat":1}}?callback=?', function(floradata) {
			$.each(floradata, function(key,val) {
				var point = new OpenLayers.Geometry.Point(val.midlon, val.midlat);
				point = point.transform(options.displayProjection,options.projection);
				var pointFeature = new OpenLayers.Feature.Vector(point, null, null);
				pointFeature.attributes = {"REF_NO": val.REF_NO, "Sitename": val.Sitename};
				floraLayer.addFeatures(pointFeature);
				totsites.push(pointFeature.attributes);
			});
			$("#msg").html("Sites: <b>"+totsites.length);
		});
	}
}

function IsNumeric(input) {
	return (input - 0) == input && input.length > 0;
}

</script>
</head>
<body>

	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner" style="background: #1A5A80;">
			<div class="container-fluid">
				<a class="brand" href="#" onclick="window.location.reload();" style="color: white;">Floras Explorer</a>

				<div class="nav-collapse">
					<ul class="nav">
						<li><a href="#" onclick="window.location.reload();">Home</a></li>
						<li><a data-toggle="modal" href="#about">About</a></li>
						<li><a data-toggle="modal" href="#contact">Contact</a></li>
						<li><a data-toggle="modal" href="#help">Help</a></li>
					</ul>
				</div>

				<ul class="nav pull-right">
					<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Sign In <b class="caret"></b></a>
						<div class="dropdown-menu">
							<form action="" id="form_login" style="margin: 0; padding: 3px 15px" accept-charset="utf-8" method="post">
								<fieldset class="control-group">
									<label for="form_username" class="control-label">Username</label>
									<div class="input-prepend" style="white-space: nowrap">
										<span class="add-on"><i class="icon-user"></i></span><input type="username" name="username" id="form_username" autocomplete="on" class="span2">
									</div>
								</fieldset>
								<fieldset class="control-group">
									<label for="form_password" class="control-label">Password</label>
									<div class="input-prepend" style="white-space: nowrap">
										<span class="add-on"><i class="icon-lock"></i></span><input type="password" name="password" id="form_password" class="span2">
									</div>
								</fieldset>
								<label class="checkbox"> <input type="checkbox" name="remember" value="true"> Remember me
								</label>
								<p class="navbar-text">
									<button type="submit" class="btn btn-primary">Login</button>
								</p>
							</form>
						</div></li>
				</ul>

			</div>
		</div>
	</div>

	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span1">&nbsp;</div>
			<div class="span2">
				<div class="well sidebar-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Search Options</li>
						<li class="divider"></li>
					</ul>

					<div class="accordion" id="accordion2">
						<div class="accordion-group">
							<div class="accordion-heading">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne"> State search </a>
							</div>
							<div id="collapseOne" class="accordion-body collapse">
								<div class="accordion-inner">
									<select id="idstate" class="span9" multiple="multiple" size="5">
										<option value="" selected> Select State </option>
									</select>   
									<input id="searchState" class="btn btn-info" type="button" value="Search" />  
								</div>
							</div>
						</div>
						<div class="accordion-group">
							<div class="accordion-heading">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo"> Text search </a>
							</div>
							<div id="collapseTwo" class="accordion-body collapse">
								<div class="accordion-inner">
  									<input id="txtsrch" type="text" class="span12" placeholder=" enter search...">
  									<input id="searchText" class="btn btn-info" type="button" value="Search" /> 
								</div>
							</div>
						</div>
						<div class="accordion-group">
							<div class="accordion-heading">
								<a id="advWin" class="accordion-toggle" href="#advance"> Advanced search </a>
							</div>
						</div>
					</div>

					<img src="FloraS.gif" alt="Floras Explorer" />

				</div>
				<div id="msg" class="alert alert-success"></div>
				
				<div class="accordion" id="selAccordion"></div>
				
			</div>
			
			<div class="span8">
				<div class="well">
					<input id="box" type="checkbox" onchange="selbox()" /> Select Sites
					<div id="map" class="smallmap"></div>
				</div>
			</div>
		</div>

		<hr>

		<footer>
			<p>&copy; Cybercommons 2012</p>
		</footer>

	</div>

	<div class="modal hide" id="about">
		<div class="modal-header well">
			<button class="close" data-dismiss="modal">&times;</button>
			<h2>About Floras Explorer  &nbsp;&nbsp;&nbsp;&nbsp; Version: 2.0</h2>
		</div>
		<div class="modal-body">
	
<h3>The Floras of North America project</h3>
<h4><a href="http://botany.okstate.edu/people_research/Palmer/index.html" target="_blank">Michael Palmer</a>, Department of Botany, Oklahoma State University</h4>

<br>
<p>
Botanists and Ecologists in North America have a rich tradition of writing Floras, or lists of vascular plants. The potential of using these floras as baselines for understanding patterns of, and threats to, modern biodiversity cannot be overstated. Nevertheless, floristic work is often published in obscure sources and is very difficult for biodiversity stakeholders to obtain. Although information technology and data transfer amongst scientists are both growing by leaps and bounds, floras are largely confined to dusty shelves.
</p>

<p>
Imagine how biodiversity research could be facilitated if there was a georeferenced, easily accessible database that allows scientists to access raw floristic data from thousands of locations at many orders of magnitude of spatial scale and over time spans of decades. Although this might not be considered a high-tech 'sensor', it would allow us to ask basic macroecological questions as well as vital applied concerns. If integrated with current biotic inventories, it could be a part of a continent-wide 'biodiversity observatory'.
</p>
 
<h4>Collaborators:</h4>
Michael Denslow (Appalachian State University)<br>
Leticia Dadalt (OSU Botany)<br>
Peter Earls (OSU Botany)<br>
Mark Withers (University of Georgia)<br>
Paul Neal (University of the Natal)<br>
Hong Qian (Illinois State Museum)<br>
Channing Richardson (OSU Botany)<br>
Peter White (UNC Chapel Hill)<br>
Gary Wade (USDA Forest Service, Burlington)<br>

<br>
<h4>Acknowledgments</h4>
<p>
Akbar Syed, Alan Weakley, Ashley Peters, Bill Lehman, Bruce Connery, Bruce Hoagland, Bruce Sorrie, Carolyn Klink, Catherine Hovanic, Daniel McGlinn, Daniel Spaulding, David Maxwell, Donna Ford-Werntz, Garrett Crow, Gary Wade, Glen Rink, Hong Qian, Jason Fridley, Jim Hull, John Hayden, Karen Ray, Kathryn Mauz, Kelly Allred, Kiyoshi Sasaki, Kristin Kegler, Kyanna Cherry, Lorna Lawrence, Louis Iverson, Mac Alford, Mark Withers, Martin Zocher, Michael Denslow, Michael MacRoberts, Neil Snow, Peter, Nick Rasmussen, P.K. Work, Paul Neal, Paula Shryock, Peter Earls, Peter White, Richard Mitchell, Ronald Hartman, Ronald Tyrl, Sandra Peterson, Sandrine Casanova, Sariah Tolsma, Sophonia Roe, Stephanie Glenn, Steve McLaughlin, Steven Hill, Steven Hull, Tatsuro Yamada, Will Lowry and numerous botanists
U.S. Forest Service, Oklahoma Water Resources Center, Oklahoma EPSCoR, LIBRA, LUHNA project, OSU Interlibrary Services, Botanical Research Institute of Texas, Houston Advanced Research Center, National Biological Information Infrastructure
</p>


<h3>Goals of the Floras of North America Project</h3>

<p>
1) <i>Assemble a bibliography of floristic work</i>. This bibliography will be of great value to botanists beginning new work, and will eventually be able to be queried geographically. For example, one could ask:
</p>

<ul>
<li>Has a flora ever been written for this location?</li>
<li>What is the most recent flora written for an area within 50km of here?</li>
<li>What are the best, and least well-studied parts of the continent?</li>
<li>Who is the most prolific botanist in writing floras?</li>
<li>How many state parks in my state have been studied floristically?</li>
<li>What is the oldest floristic work in my region?</li>
</ul>

<p>
2) <i>Develop predictive models for species richness</i>. We are using our data set to develop regression models to predict how many species 'should' occur in a given region. Using such models as a standard, we can evaluate whether a region of interest is particularly rich or poor in species. This can be used to prioritize areas for conservation, or to identify areas that may have been inadequately explored. We also plan to use such predictive models to map patterns of the diversity of vascular plants in North America.
</p>

<p>
3) <i>Address basic questions in macroecology</i>. A number of interesting questions have frequented the pages of ecology and biogeography journals recently, that can be readily tested using our data set. For example:
	- Is the species-area curve triphasic?
	- Is the latitudinal gradient more closely linked to climatic or historic factors? (e.g. time since last glaciation)
	- Are patterns of species richness scale-dependent?
	- Do different levels in the taxonomic hierarchy (e.g. subspecies, species, genera, families) behave similarly?
</p>
	
<p>
4) <i>Understand patterns of exotic invasion</i>. Exotic species are not randomly distributed throughout the continent. We plan to use our data set to map patterns of exotic diversity, and to determine the degree to which it is correlated with native diversity. We also plan to assess other correlates of exotic diversity, including those related to human impact. We can also use our predictive models to identify regions that are relatively pristine with respect to exotic invaders.
</p>

Some publications resulting from this project:<br>
<p>
Denslow MW, Palmer MW, Murrell ZE. 2010. Patterns of native and exotic vascular plant richness along an elevational gradient from sea level to the summit of the Appalachian Mountains, USA. Journal of the Torrey Botanical Society 137: 67-80.
<br>
 2010. A bibliography of North Carolina local floras. Castanea 75: 475-483.
</p>
<p>
Fridley JD, Qian H, White PS, Palmer MW. 2006. Plant species invasions along the latitudinal gradient in the United States: comment. Ecology 87: 3209-3213.
</p>
<p>
Palmer MW. 1995. How should one count species? Natural Areas Journal 15: 124-135.
<br>
 2005. Temporal trends of exotic species richness in North American floras: an overview. EcoScience 12: 386-390.
<br>
 2006. Scale dependence of native and alien species richness in North American floras. Preslia 78: 427-436.
<br>
 2007. Species-area curves and the geometry of nature. Pages 15-31 in Storch D, Marquet PA, Brown JH, eds. Scaling Biodiversity. Cambridge: Cambridge University Press.
</p>
<p>
Palmer MW. 2007. Vascular Plant Checklists from Oklahoma. Oklahoma Native Plant Record 7: 67-77.
</p>
<p>
Palmer MW. 2007. The vascular flora of the Tallgrass Prairie Preserve, Osage County, Oklahoma. Castanea 72: 235-246.
</p>
<p>
Palmer MW, Richardson JC. 2012. Biodiversity Data in the Information Age: Do 21st Century Floras Make the Grade? Castanea 77: 46-59.
</p>
<p>
Palmer MW, Wade GL, Neal PR. 1995. Standards for the writing of floras. BioScience 45: 339-345.
</p>
<p>
Palmer MW, Fridley JD, McGlinn DJ. 2008. Artifacts and Artifictions in Biodiversity Research. Folia Geobotanica 43: 245-257.
</p>
<p>
Qian H, Fridley JD, Palmer MW. 2007. The latitudinal gradient of species-area relationships for vascular plants of North America. American Naturalist 170: 690-701.
</p>
<p>
Withers MA, Palmer MW, Wade GL, White PS, Neal PR. 1998. Changing patterns in the number of species in North American floras. Pages 23-32 in Sisk TD, ed. Perspectives on the Land-Use History of North America: A Context for Understanding our Changing Environment. BSR/BDR-1998-0003: USGS, Biological Resources Division.
</p>

		</div>
	</div>

	<div class="modal hide" id="contact">
		<div class="modal-header well">
			<button class="close" data-dismiss="modal">x</button>
			<h3>Contact</h3>
		</div>
		<div class="modal-body">
			<p>Cybercommons</p>
		</div>
	</div>

	<div class="modal hide" id="help">
		<div class="modal-header well">
			<button class="close" data-dismiss="modal">x</button>
			<h3>How To Use Floras Explorer</h3>
		</div>
		<div class="modal-body">
			<p>Home</p>
			<p>About</p>
			<p>Contact</p>
			<p>Search Options</p>
			<p>  State Search</p>
			<p>  Text Search</p>
			<p>  Advanced Search</p>
		</div>
	</div>


	<div id="advance" title="Advanced Search Options">
			<p>Search state</p>
			<p>Search test</p>
			<p>Search species</p>
			<p>Search year</p>
	</div>
	
	<div id="selinfo" class="modal hide fade">
	  <div class="modal-header">
	    <a id="xclosesites" class="close">&times;</a>
	    <div id="SitesSelected"></div>
	  </div>
	  <div class="modal-body">
		<table id="sites" class="table table-striped">
			<thead>
				<tr class="ui-widget-header">
					<th>REF NO</th>
					<th>SITENAME</th>
				</tr>
			</thead>
			<tbody></tbody>
		</table>
	  </div>
	  <div class="modal-footer">
	  	<input id="savesites" class="btn btn-success" type="button" value="Save" />
	  	<input id="closesites" class="btn" type="button" value="Close" />
	  </div>
	</div>

</body>
</html>
